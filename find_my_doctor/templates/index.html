[[extend 'layout.html']]
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
    <style>
        .dropdown-content {
            max-height: 13em;
            overflow: auto;
        }
    </style>
</head>

<body>
    <section class="hero is-primary">
        <div class="hero-body">
            <p class="title">
                Find Doctor By Symptoms
            </p>

        </div>
    </section>

    <div class="columns is-mobile is-centered">

        <div class="column">

            <section class="section">
                <div class="container">
                    <div class="columns is-mobile is-centered">
                        <div class="column is-one-third">
                            <br>
                            <!-- <button class="button is-link is-fullwidth"> -->
                            <!-- <a class="button is-link is-fullwidth" href="[[=URL('redirect_to_user_info')]]"> -->
                            <a class="button is-link is-fullwidth" href="[[=URL('user_info')]]">
                                User Info
                            </a>
                            <br>
                            <a class ="button is-link is-fullwidth" href="[[=URL('doctors')]]">
                                Doctors
                            </a>
                            <!-- </button> -->
                        </div>
                        <div class="column is-one-third">

                            <label class="label">Find a doctor near you</label>

                            [[=form]]

                            <div id="vue-target" v-cloak>
                                <div class="control block">
                                  <input class="input" type="text" v-model="query" @keyup="search" />
                                </div>

                                <table class="table is-striped is full-width">
                                        <tr>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                        <tr v-for="r in results">
                                            <th>{{r.symptom_name}}</th>
                                            <!--
                                                <div v-if="has_symptom(r.symptom)">
                                                    <td><button class="button is-primary" @click="remove_symptom(r.symptom_name)"><Remove></button></td>
                                                </div>
                                                <div v-else>
                                                    <td><button class="button is-primary" @click="add_symptom(r.symptom_name)">Add</button></td>
                                                </div>
                                                -->
                                            <td><button class="button is-primary" @click="add_symptom(r.symptom_name)">Add</button></td>
                                        </tr>
                                </table>

                                <div v-for="s in symptom_list">{{s}}</div>
                            </div>

                            <section>
                            </section>

                            <h1 class="subtitle">Symptoms Listed:</h1>
                            <ul>
                                [[for row in rows:]]
                                <li>[[=row["symptom_list"]]]
                                </li>
                                [[pass]]
                            </ul>

                        </div>
                        <div class="column">

                            <div class="field">

                                <br>

                                <div class="column is-one-third">

                                    <ul>
                                        [[=disease.shape]]
                                        [[for i, row in disease.iterrows():]]
                                        <li>[[=row["disease"]]] : [[=row["prob"]]]
                                        </li>
                                        [[pass]]
                                    </ul>
                                    <!-- <div class="dropdown is-hoverable">
                                <div class="dropdown-trigger">
                                    <button class="button is-warning is-fullwidth" aria-haspopup="true"
                                        aria-controls="dropdown-menu">
                                        <span>Symptoms</span>
                                        <span class="icon is-small">
                                            <i class="fas fa-angle-down" aria-hidden="true"></i>
                                        </span>
                                    </button>
                                </div>

                                <div class="dropdown-menu" id="dropdown-menu" role="menu">
                                    <div class="dropdown-content">
                                        [[#for sympt in symptoms:]]
                                        <a href="#" class="dropdown-item">
                                            [[#under = '_']]
                                            [[#for under in sympt:]]
                                            [[#sympt_wo = sympt.replace('_', ' ')]]
                                            [[#pass]]
                                            [[#=sympt_wo]]
                                            <label class="checkbox">
                                                <input type="checkbox">

                                            </label>
                                        </a>
                                        <hr class="dropdown-divider">
                                        [[#pass]]
                                        <a class="dropdown-item">
                                            Leg cramps
                                            <label class="checkbox">
                                                <input type="checkbox">

                                            </label>
                                        </a>
                                        <hr class="dropdown-divider">
                                        <a href="#" class="dropdown-item">
                                            Aches
                                            <label class="checkbox">
                                                <input type="checkbox">

                                            </label>
                                        </a>

                                    </div>
                                </div>
                            </div> -->
                                </div>
            </section>
        </div>
    </div>
</body>

</html>

[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let search_url = "[[=XML(search_url)]]";
  let update_symptom_url = "[[=XML(update_symptom_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]
